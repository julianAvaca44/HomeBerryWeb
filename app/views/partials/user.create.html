<md-dialog class="form-user" aria-label="Agregar Nuevo Dispositivo"  ng-cloak>
  <form name="userForm">
    <md-toolbar>
      <div class="md-toolbar-tools">
        <h2>Agregar Nuevo Usuario</h2>
        <span flex></span>
        <md-button class="md-icon-button" ng-click="vmDialog.cancel()">
          <md-icon md-svg-src="../../images/ic_close_white_64px.svg" aria-label="Close dialog" ng-click="vmDialog.cancel()"></md-icon>
        </md-button>
      </div>
    </md-toolbar>
    <md-dialog-content>
      <div class="md-dialog-content">
        <!--  INICIO DEL FORMULARIO  -->
          
          <div><h4>Datos del Usuario</h4></div>
          <div class="line-division"></div>
          <div>
            <div layout-gt-sm="row" layout-align="space-around center">
              <md-input-container  class="md-block" flex-gt-sm>
                <label>Nombre</label>
                <input ng-model="vmDialog.entity.nombre" ng-required="true">
              </md-input-container>
              <md-input-container  class="md-block" flex-gt-sm>
                <label>Apellido</label>
                <input ng-model="vmDialog.entity.apellido" ng-required="true">
              </md-input-container>
              <md-input-container  class="md-block" flex-gt-sm>
                <label>DNI</label>
                <input ng-disabled="vmDialog.put" ng-model="vmDialog.entity.dni" ng-required="true">
              </md-input-container>
            </div>
          </div>
          <div>
            <div layout-gt-sm="row" layout-align="space-around center">
             <md-input-container  class="md-block" flex-gt-sm>
                <label>E-Mail</label>
                <input ng-model="vmDialog.entity.mail" type="email" ng-required="true">
              </md-input-container>
              <md-input-container  class="md-block" flex-gt-sm>
                <label>Telefono</label>
                <input ng-model="vmDialog.entity.telefono" ng-required="true">
              </md-input-container>
            </div>
          </div>
          <div>
            <div layout-gt-sm="row" layout-align="space-around center">
              <md-input-container class="md-block" flex-gt-sm>
                <label>Perfil</label>
                <md-select ng-model="vmDialog.entity.perfil" required>
                  <md-option ng-if="$index!=0" ng-repeat="rol in vmDialog.roles" value="{{rol.rol}}">
                    {{rol.rol}}
                  </md-option>
                </md-select>
              </md-input-container>
            </div>
          </div>
          <div><h4>Tarjeta de Coordenadas</h4></div>
          <div class="line-division"></div>  
          <div>
            <div layout-gt-sm="row" layout-align="space-around center">
              <md-input-container  class="md-block" flex-gt-sm>
                <label>Generar nueva TC</label>
                <input ng-model="vmDialog.entity.tc.id" disabled="true" ng-required="true" style="display: inline;width: 65% !important;">
                <md-button class="md-raised md-primary" ng-click="vmDialog.generateTc()">Generar</md-button>
              </md-input-container>
            </div>
          </div>
        <!--  FIN DEL FORMULARIO  --> 
        <div class="line-division"></div>
      </div>
    </md-dialog-content>
    <md-dialog-actions layout="row">
      <md-button ng-click="vmDialog.aceptar()" ng-disabled="userForm.$invalid">
       Aceptar
      </md-button>
      <md-button ng-click="vmDialog.cancel()" style="margin-right:20px;">
        Cancelar
      </md-button>
    </md-dialog-actions>
  </form>
</md-dialog>